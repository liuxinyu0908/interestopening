<!DOCTYPE html>
<html>
<head>
    <title>
        网页题排行榜
    </title>
    <link rel="stylesheet" href="decorat.css" >
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <h1>排行榜</h1>
    <button onclick="location.reload()" class="anniu">刷新</button>
    <table style="table-layout: auto;" id="table-container">
        <thead>
        </thead>
        <tbody id="getinformation" style="text-align: center" >
        </tbody>
    </table>
    <canvas id="myChart"></canvas>
    <div id="chart-container">
        <canvas id="myChart"></canvas>
    </div>

</body>
</html>

<script>
var tableData = [];
$("#table-container tbody tr").each(function() {
    var rowData = [];
    $(this).find('td').each(function() {
        rowData.push($(this).text());
    });
});
<!--这段代码是用来遍历表格中每一行的数据，并将每一行的数据存储在一个数组中。具体来说，它首先选中表格中的每一行，然后对于每一行，它又选中该行中的每一个单元格，并将单元格中的文本内容添加到一个数组中。最终，该数组中存储了表格中每一行的数据。这段代码可以用于获取表格中的数据，以便进行后续的处理或操作。-->
    tableData.push(rowData);

var rankings = [];
var scores = [];
for (var i = 0; i < tableData.length; i++) {
    rankings.push(tableData[i][0]);
    scores.push(tableData[i][7]);
}


var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: rankings,
        datasets: [{
            label: '分数',
            data: scores,
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgba(54, 162, 235, 1)',
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

</script>